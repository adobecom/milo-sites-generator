import{f}from"../chunks/main-DgXrYfkD.js";import"../chunks/aem-CkpPMh2a.js";class p{constructor(e){this.element=e,this.allBreadcrumbs=this.element.querySelector(".nsw-breadcrumbs ol"),this.secondBreadcrumb=this.element.querySelector(".js-breadcrumbs li:nth-child(2)"),this.condition=!1}init(){this.allBreadcrumbs.children.length>3&&this.createToggle()}createToggle(){const e=this.constructor.createElement("li",["nsw-breadcrumbs__show-more-toggle"]);e.innerHTML='<button aria-label="Show more breadcrumbs" class="nsw-breadcrumbs__toggle-button" type="button">â€¦</button>',e.addEventListener("click",()=>{this.allBreadcrumbs.classList.toggle("nsw-breadcrumbs__show-all")}),this.allBreadcrumbs.insertBefore(e,this.secondBreadcrumb)}static createElement(e,m=[],n={}){const r=document.createElement(e);return m.length>0&&r.classList.add(...m),Object.entries(n).forEach(([t,s])=>{r.setAttribute(t,s)}),r}}async function B(o){const e=await f(),n=window.location.pathname.replace("^/(.*?)/?$","$1").split("/"),{origin:r}=window.location;let t="",s=1;const d=document.createElement("ol");n.forEach(u=>{t+=u;const l=document.createElement("li");if(!t)l.innerHTML=`<a href='${r}' title='Home'>Home</a>`,d.append(l);else{const b=e.filter(i=>i.path===t);if(b&&b.length===1){s+=1;const i=b[0],g=i.navTitle||i.title,a=document.createElement("a");a.className="breadcrumb",a.title=g,a.textContent=g,n.length===s?(a.classList="current",a.setAttribute("aria-current","page")):a.href=r+t,l.append(a),d.append(l)}}t+="/"});const c=document.createElement("nav");c.className="nsw-breadcrumbs js-breadcrumbs",c.setAttribute("aria-label","Breadcrumbs"),c.appendChild(d),o.innerHTML=c.outerHTML;const h=o.querySelectorAll(".js-breadcrumbs");h&&h.forEach(u=>{new p(u).init()})}export{B as default};
//# sourceMappingURL=breadcrumb.js.map
