import{i as _}from"../chunks/aem-DzghdSH4.js";import{m as h}from"../chunks/main-BAccA7R5.js";/* empty css                      */const d={content:{0:"nsw-card__title",1:"nsw-card__copy"},image:{0:"hero__image__desktop",1:"hero__image__mobile"}};function l(e){const r=document.createElement("div");return r.classList.add(e),r}function g(){const e=l("nsw-card");e.classList.add("nsw-card--highlight");const r=l("nsw-card__content");return{cardWrapper:e,cardContentWrapper:r}}function C(e,r){const t=e.firstElementChild;if(!t)return;t.classList.add(d.content[0]);const n=e.querySelector("a"),i=(n==null?void 0:n.getAttribute("href"))||"";if(i==="#"||i===""){const o=document.createElement("h4");o.innerHTML=(n==null?void 0:n.innerHTML)||"",h(n,o),r.appendChild(o)}else r.appendChild(t)}function S(e,r){const t=e.firstElementChild;t&&(h(e.querySelector("p"),t),t.classList.add(d.content[1]),r.appendChild(t))}function y(e){const r=l("hero__image"),t=[...e.querySelectorAll("p")],n=[...e.querySelectorAll("picture")],o=t.length>2||t.length===2&&!t.every(c=>c.querySelector("picture"))?t.at(-1):null,s=(o==null?void 0:o.innerText.trim())||"";return s&&(n.forEach(c=>{var a;(a=c.querySelector("img"))==null||a.setAttribute("alt",s)}),o.remove()),n.length===2?n.forEach((c,a)=>c.parentNode.classList.add(d.image[a],"hero-banner-image")):n.length===1&&n[0].parentNode.classList.add("hero-banner-image"),r.append(...e.childNodes),r}function E(e){var i;const r=e.querySelector("a");if(!((i=r==null?void 0:r.textContent)!=null&&i.trim()))return;const t=document.createElement("span");t.className="material-icons nsw-material-icons",t.setAttribute("aria-hidden","true"),t.setAttribute("focusable","false"),t.textContent="east";const n=document.createElement("div");n.className="icon",n.appendChild(t),e.appendChild(n),e.classList.add("hero__content--with-link")}function q(e){const r=l("hero__content"),t=Array.from(e.children),{cardWrapper:n,cardContentWrapper:i}=g();C(t[0],i),S(t[1],i);const o=y(t[2]);o.querySelectorAll("picture > img").forEach(c=>{const a=_(c.src,c.alt,!1);c.closest("picture").replaceWith(a)}),E(i),e.innerHTML="",n.appendChild(i),r.appendChild(n),e.append(r,o);const s=e.querySelector(".hero__content");if(s){let c,a=0,p=0;const u=()=>{const m=performance.now();if(a>1e3){console.warn("Hero content height update is being called too frequently"),c.disconnect();return}m-p<100?a+=1:a=1,p=m;const f=s.offsetHeight;document.documentElement.style.setProperty("--hero-content-height",`${f/2}px`)};c=new ResizeObserver(u),c.observe(s),setTimeout(u,100)}}export{q as default};
//# sourceMappingURL=hero-banner.js.map
